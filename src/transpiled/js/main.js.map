{"version":3,"sources":["../../js/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\n/* Controllers */\n// NOTE :\n// $rootScope being injected here only for\n// DEV purpose\n\nangular.module('app')\n  .controller('AppCtrl', ['$scope', '$rootScope',  '$translate', '$localStorage', 'locker',  'Auth', '$state', '$timeout', '$window','$cookies',\n    function(              $scope,   $rootScope,    $translate,   $localStorage,   locker,    Auth,   $state,   $timeout,   $window, $cookies) {\n\n      let merchantMe    = locker.driver(\"local\").namespace(\"core\").get(\"me\");\n      let merchantToken = locker.driver(\"local\").namespace(\"core\").get(\"merchantToken\");\n\n      $rootScope.merchantMe = merchantMe;\n\n      // add 'ie' classes to html\n      let isIE = !!navigator.userAgent.match(/MSIE/i);\n      isIE && angular.element($window.document.body).addClass('ie');\n      isSmartDevice($window) &&\n      angular.element($window.document.body).addClass('smart');\n\n      // config\n      $scope.app = {\n        name    : 'Admin.Genie',\n        version : '0.0.1',\n        // for chart colors\n        color: {\n          primary : '#7266ba',\n          info    : '#23b7e5',\n          success : '#27c24c',\n          warning : '#fad733',\n          danger  : '#f05050',\n          light   : '#e8eff0',\n          dark    : '#3a3f51',\n          black   : '#333238'\n        },\n        settings: {\n          navbarHeaderColor   : 'bg-black',\n          navbarCollapseColor : 'bg-white-only',\n          asideColor          : 'bg-black'\n        }\n      }\n\n      /**\n       * custom array forEach function for perf\n       * test it here http://jsperf.com/sdngjkn\n       *\n       * ZELDA:   =>    custom array forEach fun\n       */\n      Array.prototype.forEachCat = function(a) {\n        let l = this.length;\n        for (let i = 0; i < l; i++)a(this[i], i)\n      }\n\n      // save settings to local storage\n      if ( angular.isDefined($localStorage.settings) ) {\n        $scope.app.settings = $localStorage.settings;\n      } else {\n        $localStorage.settings = $scope.app.settings;\n      }\n      $scope.$watch('app.settings', function(){\n        if( $scope.app.settings.asideDock  &&  $scope.app.settings.asideFixed ){\n          // aside dock and fixed must set the header fixed.\n          $scope.app.settings.headerFixed = true;\n        }\n        // save to local storage\n        $localStorage.settings = $scope.app.settings;\n      }, true);\n\n      // angular translate\n      $scope.lang = { isopen: false };\n      $scope.langs = {en:'English', de_DE:'German', it_IT:'Italian'};\n      $scope.selectLang = $scope.langs[$translate.proposedLanguage()] || \"English\";\n      $scope.setLang = function(langKey, $event) {\n        // set the current lang\n        $scope.selectLang = $scope.langs[langKey];\n        // You can change the language during runtime\n        $translate.use(langKey);\n        $scope.lang.isopen = !$scope.lang.isopen;\n      };\n\n      function isSmartDevice( $window )\n      {\n        // Adapted from http://www.detectmobilebrowsers.com\n        let ua = $window['navigator']['userAgent'] || $window['navigator']['vendor'] || $window['opera'];\n        // Checks for iOs, Android, Blackberry, Opera Mini, and Windows mobile devices\n        return (/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/).test(ua);\n      }\n\n      //\n      // helpers\n      //\n      //\n      // og function from http://stackoverflow.com/questions/7532714/javascript-convert-objects-to-array-of-objects\n      // let offerKeys = Object.keys(unsortedOffers);\n      // let offerItems = [];\n      // for (let j=0; j < offerKeys.length; j++) {\n      //   offerItems[j] = unsortedOffers[offerKeys[j]];\n      // }\n      $scope.makeArrayMeow = function(objectToSort, objectKeys, sortedObject) {\n        for (let j=0; j < objectKeys.length; j++) {\n          sortedObject[j] = objectToSort[objectKeys[j]];\n        }\n      }\n\n      //\n      // logout hack\n      //\n      $scope.logoutHack = () => {\n        Auth.logout(merchantToken).then(response => {\n          let statusCode    = response.FlikResponse.Status.StatusCode;\n          let statusMessage = response.FlikResponse.Status.StatusMessage;\n          if (statusCode == 0) {\n              //var cookies = $cookies.getAll();\n              //angular.forEach(cookies, function (value, key) {\n              //    $cookies.remove(key);\n              //});\n              delete $cookies['merchantToken'];\n            console.warn('logged out and the status is ' + statusCode);\n            $state.go(\"access.signin\");\n            console.info(\"bye \" + statusMessage + \" -- see you soon\");\n          } else if (statusCode == 1) {\n            console.warn(\"logged out and the status is \" + statusCode);\n            $state.go(\"access.signin\");\n            console.info(\"there was an issue logging out \" + statusMessage + \" but bye anyways -- see you soon\");\n          } else {\n            console.warn(\"logged out and the status is \" + statusCode);\n            $state.go(\"access.signin\");\n            console.info(\"there was an issue logging out \" + statusMessage + \" but bye anyways -- see you soon\");\n          }\n        }, error => {\n          console.warn(JSON.stringify(error, null, 4) + \" there was an issue logging out but bye anyways\");\n          $state.go(\"access.signin\");\n        });\n      }\n\n      //\n      // for dev\n      //\n      if (DEV_CORE) {\n        window.locker   = locker;\n        window.devScope = $scope;\n        window.dbCore   = $rootScope.dbCore;\n      }\n\n  }]);\n"]}